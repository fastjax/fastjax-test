# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: GkjBJBXTXvWDVPUDHn4BhKs2fp6vWGxCS/2xHWTq1UYizOCGvK/vn09K9MlqqBoQv49lb4Hfv0Xq1gaaVR0lkvXiVgTlq8L1q2Ay4EhoqBWoktSfcPufxHeBny63VQIH2CDgFbQUJDrWmI6zuOKavouY3IWbKBOaRzlC12JaS+tLb7g7q771WK9lBnv5vA/oiUW201AzA9nHjTvbACyTVUqejpL1HGgHv9YGXsjQOFPc9YaImrxHwndZZGYMBxn7MTfUpUtoAPJluxRsZHzDu0fUBXkhJzYYtA3S8rb1aKX7HRZLahws7D6lT/hn3vfXH9IrMTxEiLJibLoC9HwtONz5aIs6fhWvPbdiJsVffprYexP3AbAskinFavt8yk0OXteBmZ/sK5cEdGZbijWYyP1LcHX32mwhL55p5MklgSl16BkuG+P8Ev6xz3xMBPxZI8E75GUXqqrUX8CN0D6snfYPRRUqCjARG/fihpQJokI0SSN/QC1x1iOHwHOflr/Bkj9yqWg7nVdNpi3LMr9xjipmfwGG/2GEJmR8xDhtARXLiQJqXyTNPdpIGJ4eS6TO95AGOsfjp5m7s1DRrsN4CGEfw2aQwV1uJX/Ju5AP0Dcyo3wRf48xJA3rjOKrKly7r/JxiPH/FTsLKwkAPrhf0rs/fDGMPzKptMbDNOj54F0=
  - secure: EeQbkR9sPxiyZjpljNUOuE3mFM2tb/Yg9CcM+HOO4d08cwSeKNDj8yK89FUZbgMRogYsvEFAkYSh0nEG9bDmsAV5n+f5VZccAZZmBxrhzbQSj+L23OWV/qOU8gkRt/KFZaNMz2iC2zKgun+MILYhYpDHI4yHc6EYZJ4JzhhHsk276u/G6XdRV2BM7KyTihql6JebC28Rd1cYcCZDW26f2IVEW+DCMM31dQ8HObc+lxyB9CgIeLkU3MMiKKE36aJI0ErE6MJWZMfCSI7d/Sou2YjdcoPqtUeidTY4CCuHjKpk1yV1k901rxyFI1+Ch8RxRod3Oeb+AyFTpgQm2esHiUAgjiJLlCAkQt3azis/83EayOy48jxKwM9MrhuFMe0j7DqdycTeKJLlD5GdSMZLurPnqOuxof33KJQ7XZJZed5CtvZuQUiZNEnn7AFu0Tcbj0ZUnEBte6DdDc/nb9B2akW0FjgC1Oa8wuDDAZYqMXeGP0cXhUbj6nEQLvggFVqhje06q4s+JR+52LpLYoKV1zm6Sw75nC3IdpL2vHsfTAJyO1ZJ8dvu2Sy+D4MVY70sCThSOS+vJTloOGtTN05/YDcFh8M75d30XODxiTLN1oh7jZI5GxtMRm3T7h+CmuIssjzMT4aGOonyZgDVHeF8Ma711SVag6sbaf0yuHjo3rs=
  - secure: Zy5Yq4fzFsZOvF0gO8j4byRQbXxNgefZDTojooapKDrSpHErqiASFrBfSgCpQhLKUU3XSyaQzADCTvnzH2pLK1lkC0hkrWAmG8L0yWsbUF5g9fG+e0isfgAFjUEkYc79Zwbve3iJ20n/YC6qKJmS1koeLzwPIZZm03x6wusvBayQtEX0kJ7SCkmPd8dKkijkjT52UYvoXI1uSGojkoDyKjLC+mt6kTs1aBSL+RdAla6gK1SFzu4SfYtoE2klQp8ul0aBNIVvmuE+CCc0/0DgalsWKJISIPXgCQHifJ5WS4eiXx+m/Eb5+BXPU+ju8leVz5WDTA650JjPE1aAv8/IVwp4aA0nJ33w3ci0K786x39GqGKJ7FKKtsMYBVOUW2m71s9fEaO+Gm2r9GVgVYgstmvS1bX/PPtNM4eGSTdNix4x9YYZEZ2gprmOOp6/wnPgw4//LHrakt0lntlLef7VX8hrddeyzxdiDZ+h9zFIA5ZdEf8ZcpGFuKefH01XsSV4okNFZCCyo/SsyKgfgGX7TQRoBChKUIzFpM8xHDacLeG0A9SNnVSSGJSJUHPsvcYom8DvaKU+/XGMB6IlGqXHNdGUHkKM2CLQqUg7HuvD7VgCvRj+jbvIEol5VnE4uBuKnyJ6UaU+VCF0Nme2LryVuyyE36OSvkTRspqvplfqKK0=
  - secure: hFiiIENCMelRjItUpQKr/tuf4Sz2OP9qvEtE3SEKVVVlLM+9zdF6tS15gih/BNhGdrXlT1DtklzQPGyc1q82xuqMh7nljvsmtm5lwGeX+TfHImVMyJLCdl5kSv16u9Ll/ttGdAQroZw9rwqjprieA4/abbLdcJ6CrqCkzwWJkCScBsR8xidqA1eyoqgPAQmb+DbDeOw7EgcgRhLojt9+/+w7l4GupuJzzgSqtfSb+gfYCdhMa9wOBsEM8yuIE+XVd8rC6GXHX59IBUYcH80rlD9S+go+qUY2cWLtPGI/S2Ykf45/wg05ieQqgBvpcK4wI9HrBMLAr9y/WJO4knnQMLv+0czJWUMWXwvAF3UXjLdqms/dsOKTj6Sdorqb+Src0V5Riw8TEYM+RsMos3GMFoZLnE5TpSk7txXRLcZt2yIlxCr8EYBf6eBc35mIaR8yiolndkQFHyuA73QOCfawj1MoGESc5chRnytQsC/7I51vbnI8NlxJ4KBtgsbU9vc3AeHKhrYbwNMVimyC7CT71sJoNNwoGRa/x7/V3pN1+/9wBJ5X+CMeN0C9nYLGHyH9qaZIN04FUsR7u195jD2S0t9Hu/aprENgAkqruW7vudjycK8dH2Bqc3+MFV0+KWAwXGaBRXsc7/FyXbLzfDlhwves93uvlbvG7Fj6qK1gUMw=
  - secure: YDttQZ7rut0FoVVIA/9Pot2OgQJVQ1HZL5jz854ZxQiFbEBhLr1X0Ca/FEGnjJyFvxXfwNFqMXqk0synxjPdyApBDkR/n6P49J5QTrkCyaDzfAfuK3ppDFgghAo4Vl8ZJswlJ3BMItndn6FsrvL5q6fxEvg9JHNUqpEw9Z4xfJzMrNGIn12EEd3duDHcdhrMlC40eaDRTFlytwkQ93tXkgrxPRL0ErWFLAgW1t1yXfqwhfFaKV4QW8v6TFr1dka4xRI5xs63xaeeaPlW+fNZdbJSyLdguHwS9HxbUAGsm0mNjFalHjyZ3/sHgTjXnU+7Wt/1+/m4qigWI+HRMqPI0FHdP4oGc88DuQ4e/PeT04ta5aZB2vJ1mGJcVnTTc4a8b5SLW4tzM7gbKHCONE1lyIicbPpHj+UeGGa0N+DBzE5wf3mIlH8QirTqxeeljayIRfUcwSETcgLvOYARgYNqYxdQTK6xG2yLi3ysQMJXbnQE176ejrME96auz08N0BFMUtIJWlxlmTC0C1dack6YMI7dqI/gNccMjrmvtUxzbMGk8p7qxPeOAY4gvv1pHjZe6T/z2oIqTbHpfDc3tVV5dt38MBzsnMOhSOvIwvghyAOKDuHOdlswIAG/mkzf/W1C327OA7y4gdVgAeXP+49mAihRjqwxwQO/zwL93ha5iZY=
  - secure: lIY9kO1Wew+1vLgKN9Sbr7tdY1++B63J9kRhwZZ1YvRn3XMTIRzEjdv0QjbnzeLtZWw9fIj2JQ4JM2DIcSxCkHuzolSfYHbSmn80H75Bxkj6idKXhi6BGjA+2KuBzm4nIM2zwXCakiHqjXvKpoHaXCwO+Ut1yyktiAxjYV+BkI6ygZBmh7RbL5Vtf+RdrhB5CKz24emYjBnaoWt6IIbrQWIEoJF2n+hrqvwtwDsOpmMSnJdxvtzMBKcOhQt65V0yP6ebn6vcIMVkAOY96lMonEzb4tY7MPQQnk+H9vIIN0N7yeYlXyg5HKV9A4gmqdRhq9sMoZ+CwgYf48VgNERlSjYBYcumodPyuuaTCUj3eN2WzaxLUHGSCyX0IDjUymdYvSD1/vYQI78cltpLRG+9JedKdis0/e4oIVhzbbi/AR2ALs0HeC6GG0rdx5dqPYVCzYxx8cw2O+WQWfTk56GZfYyXvB2uaQX36Ryayxu/xRf+GFq9haCZEOpOKJi/yad+uQ6RHcokPZEoPouYAdqVSGieIx2KoV7F1xtQ+MRCgcP9sW03bg8or827cyXN7eLyyeC/9Sz47iEdi76UkxGNjcFKI9c0bYVf58lPTNekjmySAoJTT/KcrZ2ZFcgzDowo+hkznHgjpqhlpvUIiSxpqggP6vtGZIqVPBWE1QTAIZA=
