# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_COMMIT_MESSAGE" = "Update README.md" ]; then
    return;
  elif [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: A/bF0jA+ZwtcfYAynVO45Nq+L8zdgAVecFRMNaYnD8Say9sGhwued1o24yx+FaSrS5lPNlkxnt+Xgje8xHNkzKYiy+4ZtLSE27ryqqaHE+4AuaP7oa3bd8UisBabjxTb2BUCS8gfaaNyj1ALI1YU0cj09RnMSGj5H/hBW9QljStLHaQCtrxS5Qqv2FMyXj3cU7yycYyVZ9C7IRDZ3hH5D3ewHdx/vF1WFSZkX6d+r87dL5t6Hpzd7qmHqTWWVwFL9WxMk6wHcF0FWyv3UzMOxk6R7Fqgei5n5j5KGJ/A2/NeSO0o9YqHTzLI9/CkjXNv+SWNqzfRtTLAd0i/QFluHQmxR0YDWRq5v1jgH0PlvffPH1PoDPidU5aQu/BU8aEEovaf+PNoqCfhC1ebqCwpKsd8OZr+bQ8kbx6aqYYSYPaFbn50NPWpqH9E0qsPP8nLzoL/yRNGr0Gcab4BbZ0rISGt5SHbNRp6hNSIbythptPxrZH9+xcMqqUEL90FqbSTP9WySI2wbYUJGOxv0n5gPxCidVrlbj4QUNroTUJJONM7RJnFaiU7gSKYRQerZd5/2UWmCTCbruPpEFxMir1d2O52y0BooV0viAZ+GWGlZ9WWHPtcUhzpdY9hwn4AxsLUQISVfRC1/XfRKra7d31zuif6YuR6aAc+z6nr564uPv4=
  - secure: Srw2+gi5viG8LpsTzDCLr6foSas4+y5u5tB1jn7iV0688PU8ZKLhHq5gqCXTUakW3c3j6geIBPinb3l5DdSaMDms2/KAkKsJpveWmaQAoNO8GM6C+gvRIxTCrDrMC/cyVY5fpgPElr+azGozwo/ZEGL8iNmqN34UDUYg3zWVJAKXNGLlYc6b3TOgUm840f6vimMW+ovkayfi0hCAn9tSbWvJsH11kq5/eupL24bqRjBTafdJ7ebqfbqgBimpleLJ7DCg4BW6n7HMvzNF7HVv4H7rECrJkVg1Otu/1UL7Dsv/Yk33MxvQtQF3oNXjkKg9GaFaU0EWY5r7s9UJ3HgNmC7CambTEvraJnA3USDSRCs3wc7/klj+rlNdlXFAmdq6YVQ5KQ8UVpaYNRsnkwvUQh9WF6UGK3D+vRQe19wOqxEjH2Ql8R+WMnfj92bPG0Kle8IKzz/n9vlFoLbI7Fe125DkfbCu+nRzE2rsKCGn37GLpz6lK//Kpw4jpiTchueJUG7rIn75Agq5WwU4uw+wKcI/PMVQf1CGHWqfzC1pt/tTuYuHHvj2mYrz52FY9GUsYD2xYtm6/AJyVU5KZMObhtxxbTdWq9qVZgGDYjacOM3jda3ROl6zeprZkYZruuw3eZDaoKUedpr8+y5LoSjOjwdxQlAGvGQ+XxbSNMPhhwQ=
  - secure: edWPBp3cKGJvSLmau53Crn3YPs1wFSiKOn0ydnKQaDTwHkeXkzUqI2krOfF8FkfJthD3jD8ycJWZMty0I21TF0eqB9JggA638/Fd/uyCgQD+yQWJQQaX6Mtu4DQPpLHtVt9Cv38CyArO/NCeNUVCZB8szv/reDUAEDPAuyyUfIwHKK9uJny6pGHVDXmzZWv9Wns7Uu8WCNlCUV1MRsSGaUnZcHraJf/ulGe0GDhIvYcW6RhP3alU1kbXKVP3NF9xjwR3O2mevkogQ4zzqTKl86hBSYQm6zFBjdwSJW6M29dvRB3ukAeL3ShVh36WmBOV7KueUhTnrSjuuBqwHQQbvrK2xbJhV7N5ntzvE1/4u6cEHR7K6sjuBLvS5BwNJTNmHJPw/W7XbwMISJp0GOjSE3ytLzF7wJ861w4JDuy1TwnXaNag+G6aYRZCfbAnKraDAn5RMVlhe0D7lqwkguUCtfTqDH5qDbbeDXjcJfzW0yzHOiAvZoEFnCFVFfACgXPVrtRxsEYdlLBuw8mZFqTjyR0XH7aXhIVZMbV928MigVEb6z6aHmoYlyOIVDgeb6Ua3zLe8qZlSJq+CAsRK+vTNvbdRgOF21eWFZm0kalNaBTJ/i0AIm5smPz5GA+GdXe0dgGU1NtHHiKxbCamFwOnsGRc+Zhvi1jXwjFzkGgXXOo=
  - secure: iT8ifs7+9mEIh1NvM3LDsaoPfaZGkrBt2vs7gnNNvyQzyA+mo1C4Xrix6U6K7tECQj8k0v9of4llHkJ7Thl7SvOs91PwRd30lTE3d13OXpIcx/Ro77T9CMlLcGxSQhamBu2x4HxF8U8vfwbBlMXWRS80GphP/pzTgiB8V7cYkoDJBX3jYQL7HuI7i3QTUH5qdnwacbVQIji3ZQpFZ3DjHjYpQsMT5Vb7hwz9/v064fuDQZjrZDYeTGv8STIOB4J28Mk9HCMzRqm/zeW4lW89FvIUDajlZwuVN9UrnNPeI/GaWc8fJoIizyBey8YtnJkGQ3SML0X18ZyvkMEKrE+E5maAFgsFDWSRtt2uto6bBm4XROeCQ8a4xc3zlwfT+l7XlMzV6gTJNhTvF4sluuB1vo77hmt9g68VMoqxSBYNREJDrVL5urvPnGw0mK7/IChnNn5GNtcHD5kpq2cdXy9ocnNtLY6iaSdJEZ+mUWz4dzXbqUmRl4BdxjR/PEMMP4dm1/qIofqe5v0JnJOcCqwJRtc68eGRyM8buSf8kDO3i0+YQwxffO/LhbG03QZZcu8n15HvV3Ug42ID3Hcb7+3aNWJVgYqnp5Lag6EGUGi6IArlA43s+9VrRCA01yqZjeZBSTqtxhb7u5S9x1KoUt2Df+kCHdLTwWlv/EpYv4aq9Nk=
  - secure: XLo3VsbccMiHFm3z2YLWGMkajE33wYRKY2oDmj2vellF6YRlj8i8Mw9vx8Z8fFhGFRWO+ILkNl9sO1LZOkPNlSupNcbXU1EqbMgLzgDymrCE9RgPXBx8dtCf+cyLf/gK1/9ZbROsmpE5DZyqaz0sOVQYO0lHh5vK4cTgdIF0TrTNfu5/sZ5oeZP2O5qbu0+Mo0tG5LvNtfeUBF0RDbqsmtYQE1JoDYEqDjpuKvPJR6RaeEfZcwzXYH+fuazYH5+oaz8vGL/USw8VnI5inmPtBCrl5V9EP4biLS04/PkGkT5LG7RPBy9AmRQJU1tnh4eZ52hoHxDmFTaPNIcv/VwuwIyGefDVLDrCtEe8UapBi1ehcymoUl7AWA48sleNh8uAZZcy2tCFnAzFLZnAuth0kRzn6zH5Js/LIobsV2ub8qbetxqsIoc6afcKxSXDhmR8MTPlSoZ9Mr55HHAtTmMO+hNbWoLBAWYyVBIJgJa779IryKepU6wVk4yR8vQCKO+UN44k+jgk6XzhsdHQrczZDda5PdQWBksD+Dxi60ECAxnIZXSbADyUonLOcQ1ELh7EVMAdiMn2GcdLi7gGX5ecCi4PzXed81TjOOK7HFdGsJyUEGJNgfBHd2/htQVFDEAv1UffUhwehR62gs6oIm/sBD2Rhbc5RahhiQRk2Io5fVE=
  - secure: MLQc1W2dpgICUbIKOddTxldEPuuYipvD3rpURguptbio+aSPKY7b7MWNyGuTk6xV5wayGu2uOd+3oBB9o2/xkT1CUJMqgznrSbBI6Rq6WyjaVujpXJsS0CeegpyZ8iKn8bt0pcNFkiTdez0wcpPw9XXc2Z3x94CrgqqzL/4xOtTLkgPjm9lF3KXCDEJd/MDak3/YjAaPWTffips64plDKvrkP3GWmicO4BOynUboZDslZsNdBOMrp0Pv0rQAcyB/fq89TIyI1gvJ5b4hxr/CkfBRVdCNPNGR4OIaIojhcf8uSlf3dAoIheU7Ow46wboB+yC4Jljo4ac8UfoCtf4yhoHRMDSWrrTGZrUPQQo+R/A+7AcXiPkGAhNrNdGXbumo7Pr6Lki00RmsRKk0fodfn58t2wlXE3QIUWPksWURIwkV/TVofrnuQBNJWuyhniW08zPjYz7u1jjX8n0tcPaZuKhQVPO+IEvEYSBysHs28TclLdrd6RNqjikPHYyjKWLf7rnxcEyQ6TMrjOdviFLomUQGX5N4K7UOaBVnXmSb34RLxSPelJb42ifQU17V6fWy4qG1RMv7dwKmTx+rTg7+l15x1XxzFMTBy8JgqMsmsYkLQjuo9R3bY/ir7FrUEeBQwVppEQ/PkkaCU/Fz0V7MZRFwZkUsevaerCkHYt4tj1g=
  - secure: e8qnsTDvhZvOEv0r1Xur63tdY0HpdnS2uJpQ9OyaJI18ocBGBSShi8aYPQn+t/enUTbCw5J6CUhRNbJcgyKb01SPWfZRSSmd3Hek+UdXerfYY0YMDQW7TArkoEwP32gW+4b4IvBOPsWWZTjs+Oua59zngd5ugF2M9ORfO6pnQeLWDGcTxqkoNPo/w1AfZfLsPBhqb8NOiu4FuFT9o5XWkthiCP9Q4nZbRDdVKLEvjWOt/Jxb8D+fMkUl9ikOCiInPKit3hIHuvBrbkrmXJlafA7uLiX9sRrJ7DsE3hGzY4fWHCewfD6kQCVapPtJaY13BNg4LDTJreTOIgjpnPKqU1CiBKJOIsgH4Zw7YBAC1u2DjXCEcmCL1Iy6YIQ4yqvfmu8H0Ok1YTdV/nyvsk4xVCBat9q53obO98H/vSQ7s8y4AQmMwU9GCEAh/CTwcuTg+JbJ6pskFN0cniIKusB1WaqbE5sh/SBIx+Ku0lwr8zuoaBzwq2sSR6RnRBnpSS5bqq4Vm/A8hXEhNKYfFaDgDfejXLqhndFKKspoLOS3vNGxfEryKoWF07wFvEphgIcShKoX+y8GVswNtVhunG4RPvxQaqEHhvkVU+9H851GMzEkqQ+JdrRWEP0t7uT6GbbQgH2AKwQfFvMbmjRQSJkhr8+SeDRkbvtmTWmRJgZbexk=
